{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block head_title %} {{ block.super }} {% endblock head_title %}

{% block content %}
<div class="row justify-content-center mt-5">
    {% if request.user.is_authenticated %}
    {% for post in postList %}
    <div class="container m-3">
        <p>{{ post.datetime }}</p>
        <p>{{ post.title }}</p>
        <p>{{ post.content }}</p>
        <p>{{ post.user }}</p>
        <p>{{ post.txId }}</p>
        <p>{{ post.hash }}</p>
    </div>
    {% endfor %}
    <div class="col-4">
        <form action="{% url 'homepage' %}" method="post">
            {% csrf_token %}
            {{ form|crispy }}
            <input type="submit" class="btn btn-info" value="Create Post">
        </form>
    </div>
    {% else %}
    <div class="col-4">
        <p>Login or sign up</p>
    </div>
    {% endif %}
</div>

{% endblock %}